import"./common/_commonjsHelpers-2c0027bd.js";import"./common/process-06825524.js";import{r as u}from"./common/index-1e1d06c2.js";import{_,b as p}from"./common/Subscriber-a80588df.js";import{O as v,S as h}from"./common/Subject-4d500802.js";var a=function(r){_(e,r);function e(t){var o=r.call(this)||this;return o._value=t,o}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var o=r.prototype._subscribe.call(this,t);return o&&!o.closed&&t.next(this._value),o},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new v();return this._value},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(h);function f(r){var e=u.useRef();return e.current||(e.current={v:r()}),e.current.v}function d(r,e,t){var o=p(u.useState(typeof e!="undefined"?e:null),2),b=o[0],l=o[1],n=f(function(){return new a(e)}),s=f(function(){return new a(t)});return u.useEffect(function(){s.next(t)},t||[]),u.useEffect(function(){var c;t?c=r(n,s):c=r(n);var m=c.subscribe(function(i){n.next(i),l(i)});return function(){m.unsubscribe(),s.complete(),n.complete()}},[]),b}export{d as useObservable};
