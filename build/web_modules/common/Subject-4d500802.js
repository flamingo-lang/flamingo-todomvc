import{S as c,r as l,e as y,c as h,_ as b,a}from"./Subscriber-a80588df.js";function R(e){for(;e;){var t=e,r=t.closed,n=t.destination,o=t.isStopped;if(r||o)return!1;n&&n instanceof c?e=n:e=null}return!0}function d(e,t,r){if(e){if(e instanceof c)return e;if(e[l])return e[l]()}return!e&&!t&&!r?new c(y):new c(e,t,r)}var P=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function T(e){return e}function w(e){return e.length===0?T:e.length===1?e[0]:function(r){return e.reduce(function(n,o){return o(n)},r)}}var f=function(){function e(t){this._isScalar=!1,t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e();return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var o=this.operator,s=d(t,r,n);if(o?s.add(o.call(s,this.source)):s.add(this.source||h.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),h.useDeprecatedSynchronousErrorHandling&&(s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown)))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){h.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=r),R(t)?t.error(r):console.warn(r)}},e.prototype.forEach=function(t,r){var n=this;return r=_(r),new r(function(o,s){var i;i=n.subscribe(function(E){try{t(E)}catch(v){s(v),i&&i.unsubscribe()}},s,o)})},e.prototype._subscribe=function(t){var r=this.source;return r&&r.subscribe(t)},e.prototype[P]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===0?this:w(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=_(t),new t(function(n,o){var s;r.subscribe(function(i){return s=i},function(i){return o(i)},function(){return n(s)})})},e.create=function(t){return new e(t)},e}();function _(e){if(e||(e=Promise),!e)throw new Error("no Promise impl found");return e}var U=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),u=U,j=function(e){b(t,e);function t(r,n){var o=e.call(this)||this;return o.subject=r,o.subscriber=n,o.closed=!1,o}return t.prototype.unsubscribe=function(){if(this.closed)return;this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!n||n.length===0||r.isStopped||r.closed)return;var o=n.indexOf(this.subscriber);o!==-1&&n.splice(o,1)},t}(a),I=function(e){b(t,e);function t(r){var n=e.call(this,r)||this;return n.destination=r,n}return t}(c),p=function(e){b(t,e);function t(){var r=e.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype[l]=function(){return new I(this)},t.prototype.lift=function(r){var n=new S(this,this);return n.operator=r,n},t.prototype.next=function(r){if(this.closed)throw new u();if(!this.isStopped)for(var n=this.observers,o=n.length,s=n.slice(),i=0;i<o;i++)s[i].next(r)},t.prototype.error=function(r){if(this.closed)throw new u();this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,o=n.length,s=n.slice(),i=0;i<o;i++)s[i].error(r);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new u();this.isStopped=!0;for(var r=this.observers,n=r.length,o=r.slice(),s=0;s<n;s++)o[s].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(r){if(this.closed)throw new u();return e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){if(this.closed)throw new u();return this.hasError?(r.error(this.thrownError),a.EMPTY):this.isStopped?(r.complete(),a.EMPTY):(this.observers.push(r),new j(this,r))},t.prototype.asObservable=function(){var r=new f();return r.source=this,r},t.create=function(r,n){return new S(r,n)},t}(f),S=function(e){b(t,e);function t(r,n){var o=e.call(this)||this;return o.destination=r,o.source=n,o}return t.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},t.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):a.EMPTY},t}(p);export{u as O,p as S};
